{"architecture":"amd64","config":{"User":"0:0","ExposedPorts":{"8080/tcp":{}},"Env":["PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","LANG=C.UTF-8","GPG_KEY=A035C8C19219BA821ECEA86B64E628F8D684696D","PYTHON_VERSION=3.11.13","PYTHON_SHA256=8fb5f9fbc7609fa822cb31549884575db7fd9657cbffb89510b5d7975963a83a","ENV=prod","PORT=8080","USE_OLLAMA_DOCKER=false","USE_CUDA_DOCKER=false","USE_CUDA_DOCKER_VER=cu128","USE_EMBEDDING_MODEL_DOCKER=sentence-transformers/all-MiniLM-L6-v2","USE_RERANKING_MODEL_DOCKER=","OLLAMA_BASE_URL=/ollama","OPENAI_API_BASE_URL=","OPENAI_API_KEY=","WEBUI_SECRET_KEY=","SCARF_NO_ANALYTICS=true","DO_NOT_TRACK=true","ANONYMIZED_TELEMETRY=false","WHISPER_MODEL=base","WHISPER_MODEL_DIR=/app/backend/data/cache/whisper/models","RAG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2","RAG_RERANKING_MODEL=","SENTENCE_TRANSFORMERS_HOME=/app/backend/data/cache/embedding/models","TIKTOKEN_ENCODING_NAME=cl100k_base","TIKTOKEN_CACHE_DIR=/app/backend/data/cache/tiktoken","HF_HOME=/app/backend/data/cache/embedding/models","HOME=/root","WEBUI_BUILD_VERSION=1db8dec4f52fc0fa8f8f7bfbb8ea5bde41fee17d","DOCKER=true"],"Cmd":["bash","start.sh"],"WorkingDir":"/app/backend","Labels":{"org.opencontainers.image.created":"2025-08-22T13:22:52.472Z","org.opencontainers.image.description":"User-friendly AI Interface (Supports Ollama, OpenAI API, ...)","org.opencontainers.image.licenses":"NOASSERTION","org.opencontainers.image.revision":"1db8dec4f52fc0fa8f8f7bfbb8ea5bde41fee17d","org.opencontainers.image.source":"https://github.com/open-webui/open-webui","org.opencontainers.image.title":"open-webui","org.opencontainers.image.url":"https://github.com/open-webui/open-webui","org.opencontainers.image.version":"main"},"ArgsEscaped":true,"Healthcheck":{"Test":["CMD-SHELL","curl --silent --fail http://localhost:${PORT:-8080}/health | jq -ne 'input.status == true' || exit 1"]}},"created":"2025-08-22T13:26:20.904732298Z","history":[{"created":"2025-08-08T18:20:34Z","created_by":"# debian.sh --arch 'amd64' out/ 'bookworm' '@1754870400'","comment":"debuerreotype 0.15"},{"created":"2025-08-08T18:20:34Z","created_by":"ENV PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-08T18:20:34Z","created_by":"ENV LANG=C.UTF-8","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-08T18:20:34Z","created_by":"RUN /bin/sh -c set -eux; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tca-certificates \t\tnetbase \t\ttzdata \t; \trm -rf /var/lib/apt/lists/* # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-08T18:20:34Z","created_by":"ENV GPG_KEY=A035C8C19219BA821ECEA86B64E628F8D684696D","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-08T18:20:34Z","created_by":"ENV PYTHON_VERSION=3.11.13","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-08T18:20:34Z","created_by":"ENV PYTHON_SHA256=8fb5f9fbc7609fa822cb31549884575db7fd9657cbffb89510b5d7975963a83a","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-08T18:20:34Z","created_by":"RUN /bin/sh -c set -eux; \t\tsavedAptMark=\"$(apt-mark showmanual)\"; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tdpkg-dev \t\tgcc \t\tgnupg \t\tlibbluetooth-dev \t\tlibbz2-dev \t\tlibc6-dev \t\tlibdb-dev \t\tlibffi-dev \t\tlibgdbm-dev \t\tliblzma-dev \t\tlibncursesw5-dev \t\tlibreadline-dev \t\tlibsqlite3-dev \t\tlibssl-dev \t\tmake \t\ttk-dev \t\tuuid-dev \t\twget \t\txz-utils \t\tzlib1g-dev \t; \t\twget -O python.tar.xz \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz\"; \techo \"$PYTHON_SHA256 *python.tar.xz\" | sha256sum -c -; \twget -O python.tar.xz.asc \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz.asc\"; \tGNUPGHOME=\"$(mktemp -d)\"; export GNUPGHOME; \tgpg --batch --keyserver hkps://keys.openpgp.org --recv-keys \"$GPG_KEY\"; \tgpg --batch --verify python.tar.xz.asc python.tar.xz; \tgpgconf --kill all; \trm -rf \"$GNUPGHOME\" python.tar.xz.asc; \tmkdir -p /usr/src/python; \ttar --extract --directory /usr/src/python --strip-components=1 --file python.tar.xz; \trm python.tar.xz; \t\tcd /usr/src/python; \tgnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; \t./configure \t\t--build=\"$gnuArch\" \t\t--enable-loadable-sqlite-extensions \t\t--enable-optimizations \t\t--enable-option-checking=fatal \t\t--enable-shared \t\t$(test \"${gnuArch%%-*}\" != 'riscv64' \u0026\u0026 echo '--with-lto') \t\t--with-ensurepip \t; \tnproc=\"$(nproc)\"; \tEXTRA_CFLAGS=\"$(dpkg-buildflags --get CFLAGS)\"; \tLDFLAGS=\"$(dpkg-buildflags --get LDFLAGS)\"; \tLDFLAGS=\"${LDFLAGS:--Wl},--strip-all\"; \tmake -j \"$nproc\" \t\t\"EXTRA_CFLAGS=${EXTRA_CFLAGS:-}\" \t\t\"LDFLAGS=${LDFLAGS:-}\" \t; \trm python; \tmake -j \"$nproc\" \t\t\"EXTRA_CFLAGS=${EXTRA_CFLAGS:-}\" \t\t\"LDFLAGS=${LDFLAGS:--Wl},-rpath='\\$\\$ORIGIN/../lib'\" \t\tpython \t; \tmake install; \t\tcd /; \trm -rf /usr/src/python; \t\tfind /usr/local -depth \t\t\\( \t\t\t\\( -type d -a \\( -name test -o -name tests -o -name idle_test \\) \\) \t\t\t-o \\( -type f -a \\( -name '*.pyc' -o -name '*.pyo' -o -name 'libpython*.a' \\) \\) \t\t\\) -exec rm -rf '{}' + \t; \t\tldconfig; \t\tapt-mark auto '.*' \u003e /dev/null; \tapt-mark manual $savedAptMark; \tfind /usr/local -type f -executable -not \\( -name '*tkinter*' \\) -exec ldd '{}' ';' \t\t| awk '/=\u003e/ { so = $(NF-1); if (index(so, \"/usr/local/\") == 1) { next }; gsub(\"^/(usr/)?\", \"\", so); printf \"*%s\\n\", so }' \t\t| sort -u \t\t| xargs -rt dpkg-query --search \t\t| awk 'sub(\":$\", \"\", $1) { print $1 }' \t\t| sort -u \t\t| xargs -r apt-mark manual \t; \tapt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false; \trm -rf /var/lib/apt/lists/*; \t\texport PYTHONDONTWRITEBYTECODE=1; \tpython3 --version; \t\tpip3 install \t\t--disable-pip-version-check \t\t--no-cache-dir \t\t--no-compile \t\t'setuptools==65.5.1' \t\t'wheel\u003c0.46' \t; \tpip3 --version # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-08T18:20:34Z","created_by":"RUN /bin/sh -c set -eux; \tfor src in idle3 pip3 pydoc3 python3 python3-config; do \t\tdst=\"$(echo \"$src\" | tr -d 3)\"; \t\t[ -s \"/usr/local/bin/$src\" ]; \t\t[ ! -e \"/usr/local/bin/$dst\" ]; \t\tln -svT \"$src\" \"/usr/local/bin/$dst\"; \tdone # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-08T18:20:34Z","created_by":"CMD [\"python3\"]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ARG USE_CUDA=false","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ARG USE_OLLAMA=false","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ARG USE_CUDA_VER=cu128","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ARG USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ARG USE_RERANKING_MODEL=","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ARG UID=0","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ARG GID=0","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV ENV=prod PORT=8080 USE_OLLAMA_DOCKER=false USE_CUDA_DOCKER=false USE_CUDA_DOCKER_VER=cu128 USE_EMBEDDING_MODEL_DOCKER=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL_DOCKER=","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV OLLAMA_BASE_URL=/ollama OPENAI_API_BASE_URL=","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV OPENAI_API_KEY= WEBUI_SECRET_KEY= SCARF_NO_ANALYTICS=true DO_NOT_TRACK=true ANONYMIZED_TELEMETRY=false","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV WHISPER_MODEL=base WHISPER_MODEL_DIR=/app/backend/data/cache/whisper/models","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV RAG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 RAG_RERANKING_MODEL= SENTENCE_TRANSFORMERS_HOME=/app/backend/data/cache/embedding/models","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV TIKTOKEN_ENCODING_NAME=cl100k_base TIKTOKEN_CACHE_DIR=/app/backend/data/cache/tiktoken","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV HF_HOME=/app/backend/data/cache/embedding/models","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"WORKDIR /app/backend","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:21:41.548285283Z","created_by":"ENV HOME=/root","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-21T18:23:32.957041843Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c if [ $UID -ne 0 ]; then     if [ $GID -ne 0 ]; then     addgroup --gid $GID app;     fi;     adduser --uid $UID --gid $GID --home $HOME --disabled-password --no-create-home app;     fi # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:21:41.667022866Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c mkdir -p $HOME/.cache/chroma # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:21:41.725704246Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c echo -n 00000000-0000-0000-0000-000000000000 \u003e $HOME/.cache/chroma/telemetry_user_id # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:23:32.957041843Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c chown -R $UID:$GID /app $HOME # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:22:23.663185149Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c apt-get update \u0026\u0026     apt-get install -y --no-install-recommends     git build-essential pandoc gcc netcat-openbsd curl jq     python3-dev     ffmpeg libsm6 libxext6     \u0026\u0026 rm -rf /var/lib/apt/lists/* # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:22:23.993499159Z","created_by":"COPY --chown=0:0 ./backend/requirements.txt ./requirements.txt # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:23:32.347978575Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c pip3 install --no-cache-dir uv \u0026\u0026     if [ \"$USE_CUDA\" = \"true\" ]; then     pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/$USE_CUDA_DOCKER_VER --no-cache-dir \u0026\u0026     uv pip install --system -r requirements.txt --no-cache-dir \u0026\u0026     python -c \"import os; from sentence_transformers import SentenceTransformer; SentenceTransformer(os.environ['RAG_EMBEDDING_MODEL'], device='cpu')\" \u0026\u0026     python -c \"import os; from faster_whisper import WhisperModel; WhisperModel(os.environ['WHISPER_MODEL'], device='cpu', compute_type='int8', download_root=os.environ['WHISPER_MODEL_DIR'])\";     python -c \"import os; import tiktoken; tiktoken.get_encoding(os.environ['TIKTOKEN_ENCODING_NAME'])\";     else     pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu --no-cache-dir \u0026\u0026     uv pip install --system -r requirements.txt --no-cache-dir \u0026\u0026     python -c \"import os; from sentence_transformers import SentenceTransformer; SentenceTransformer(os.environ['RAG_EMBEDDING_MODEL'], device='cpu')\" \u0026\u0026     python -c \"import os; from faster_whisper import WhisperModel; WhisperModel(os.environ['WHISPER_MODEL'], device='cpu', compute_type='int8', download_root=os.environ['WHISPER_MODEL_DIR'])\";     python -c \"import os; import tiktoken; tiktoken.get_encoding(os.environ['TIKTOKEN_ENCODING_NAME'])\";     fi;     chown -R $UID:$GID /app/backend/data/ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-21T18:23:32.957041843Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c if [ \"$USE_OLLAMA\" = \"true\" ]; then     date +%s \u003e /tmp/ollama_build_hash \u0026\u0026     echo \"Cache broken at timestamp: `cat /tmp/ollama_build_hash`\" \u0026\u0026     curl -fsSL https://ollama.com/install.sh | sh \u0026\u0026     rm -rf /var/lib/apt/lists/*;     fi # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-22T13:26:16.728596621Z","created_by":"COPY --chown=0:0 /app/build /app/build # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-22T13:26:16.763245719Z","created_by":"COPY --chown=0:0 /app/CHANGELOG.md /app/CHANGELOG.md # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-22T13:26:16.771380345Z","created_by":"COPY --chown=0:0 /app/package.json /app/package.json # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-22T13:26:16.911911336Z","created_by":"COPY --chown=0:0 ./backend . # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-22T13:26:16.911911336Z","created_by":"EXPOSE map[8080/tcp:{}]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-22T13:26:16.911911336Z","created_by":"HEALTHCHECK \u0026{[\"CMD-SHELL\" \"curl --silent --fail http://localhost:${PORT:-8080}/health | jq -ne 'input.status == true' || exit 1\"] \"0s\" \"0s\" \"0s\" \"0s\" '\\x00'}","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-22T13:26:20.904732298Z","created_by":"RUN |7 USE_CUDA=false USE_OLLAMA=false USE_CUDA_VER=cu128 USE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2 USE_RERANKING_MODEL= UID=0 GID=0 /bin/sh -c set -eux;     chgrp -R 0 /app /root || true;     chmod -R g+rwX /app /root || true;     find /app -type d -exec chmod g+s {} + || true;     find /root -type d -exec chmod g+s {} + || true # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2025-08-22T13:26:20.904732298Z","created_by":"USER 0:0","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-22T13:26:20.904732298Z","created_by":"ARG BUILD_HASH=1db8dec4f52fc0fa8f8f7bfbb8ea5bde41fee17d","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-22T13:26:20.904732298Z","created_by":"ENV WEBUI_BUILD_VERSION=1db8dec4f52fc0fa8f8f7bfbb8ea5bde41fee17d","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-22T13:26:20.904732298Z","created_by":"ENV DOCKER=true","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2025-08-22T13:26:20.904732298Z","created_by":"CMD [\"bash\" \"start.sh\"]","comment":"buildkit.dockerfile.v0","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:eb5f13bce9936c760b9fa73aeb1b608787daa36106cc888104132e353ed37252","sha256:f10b8e3f8d8c1fd4e04dbca0f1ba57f47e234d1b723cff373266d9dcce116a67","sha256:d6c2ec96daf1f675c3bcdd94d2d968a7959690dd157e00c4132da28a61802cee","sha256:60965093edfd5c52e67341061715313d6209717946590bc54f25e5fb1870e660","sha256:68100358e29009a3afb2973c1c67ac09dd546db4c67df6dde6ef709658da9b68","sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef","sha256:c7be16d4c244974f520d3a8b74af0a9d963534a1ba00443e144d001dfe06b0c0","sha256:49150bbd82e91f7e45f029b8177eaf5287ac8e19ca5f47aeec2029825a998378","sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef","sha256:29aeb3ee8150b97a6ef445de77864572cb6e0b7e765cae61ac7fa0db218f37e1","sha256:a0fc38a3e5c9b7b84b5ba188dca9c5f22a57a2e3b69a89f0d3a88a359318f837","sha256:2556d045aed4c6a7189872fec0e36da1d16b7656e172ec6197afb090231c63ce","sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef","sha256:35af480d0f2b0ebd62b7f2761578a5eb604b24ba0ede154f042bc7c310aa5022","sha256:795795ba5dfdbf63afbbd0b65e03b639d82d46b6eb4b5566ba3cd5354623f93c","sha256:770c557a96642f927d9ba8ace192e8230ac95a548befa565cb13ecb33a389be2","sha256:fbb7c836fd62e5e24e526b5ae697994498b76abca6def9233c17034b242e68af","sha256:178d8a51a0f2678ed709fb525387c979c2a24e821525b87b7841724fe21e395b"]}}